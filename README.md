# 维修管理系统 (Repair Management System)

一个基于PHP+MySQL的简洁维修管理系统，支持设备维修记录管理、状态跟踪、数据导出和统计图表等功能。

## 功能特性

### 🔍 核心功能
- **设备接收管理**：记录设备型号、故障描述、客户信息
- **维修状态跟踪**：未开始 → 检修中 → 已修好/无法修复
- **数据导出**：支持CSV和Excel格式导出
- **统计图表**：维修完成率、设备类型占比等可视化数据

### 🎯 用户权限
- **无需登录**：查看所有设备维修信息
- **需要登录**：添加、修改维修记录（管理员权限）

### 📊 数据管理
- 维修工单生成与管理
- 实时状态更新（自动记录更新时间）
- 维修进度跟踪
- 历史记录查询与筛选
- 分页浏览（避免大数据量卡顿）
- 按时间倒序排列（最新记录优先显示）

## 技术架构

- **后端**：PHP 7.4+
- **数据库**：MySQL 5.7+
- **前端**：Bootstrap 5 + Chart.js
- **架构**：MVC模式，RESTful API

## 安装部署

### 环境要求
- PHP 7.4 或更高版本
- MySQL 5.7 或更高版本
- Web服务器（Apache/Nginx）

### 🚀 一键自动安装

1. **下载项目文件**
   ```bash
   git clone [项目地址]
   cd repair-management-system
   ```

2. **上传到Web服务器**
   - 将项目文件放到Web服务器目录
   - 确保PHP有写入权限

3. **运行自动安装**
   - 打开浏览器访问：`http://您的域名/install.php`
   - 按照安装向导的步骤操作：
     - 步骤1：环境检查
     - 步骤2：数据库配置
     - 步骤3：系统安装
     - 步骤4：安装完成

4. **开始使用**
   - 安装完成后访问：`http://您的域名/index.php`
   - 默认管理员账户：`admin` / `admin123`

### 📋 安装检查清单

- [ ] PHP版本检查（7.4+）
- [ ] MySQL服务运行正常
- [ ] 数据库连接成功
- [ ] 数据库表创建完成
- [ ] 示例数据导入完成
- [ ] 系统可以正常访问
- [ ] 登录功能正常
- [ ] 数据导出功能正常

## 使用说明

### 查看维修记录
- 访问首页可查看所有维修记录
- 使用搜索和筛选功能快速查找

### 添加维修记录
1. 点击"登录"按钮
2. 使用管理员账户登录
3. 点击"添加维修记录"
4. 填写设备信息和客户信息
5. 保存记录

### 更新维修状态
- 在维修记录表格中点击相应按钮
- 支持状态流转：未开始 → 检修中 → 已完成/无法修复

### 数据导出
- 点击"导出数据"按钮
- 选择CSV或Excel格式
- 支持按筛选条件导出
- 智能限制导出数量（避免大数据量卡顿）
- 可选择导出范围（全部或前1000条）

### 数据统计
- 首页显示关键统计指标
- 维修状态分布饼图
- 设备类型占比柱状图

## 数据库结构

### 用户表 (users)
- id: 用户ID
- username: 用户名
- password: 密码（加密存储）
- email: 邮箱
- created_at: 创建时间

### 维修记录表 (repair_records)
- id: 记录ID
- device_number: 设备编号
- device_model: 设备型号
- device_type: 设备类型
- fault_description: 故障描述
- customer_name: 客户姓名
- customer_phone: 客户电话
- customer_address: 客户地址
- received_date: 接收日期
- status: 维修状态
- priority: 优先级
- assigned_to: 负责人
- notes: 备注
- created_at: 创建时间
- updated_at: 更新时间

## 文件结构

```
repair-management-system/
├── install.php              # 自动安装向导
├── index.php                # 主页面
├── login.php                # 登录页面
├── add_repair.php           # 添加维修记录
├── export.php               # 数据导出
├── logout.php               # 退出登录
├── config/
│   └── database.php         # 数据库配置
├── api/
│   ├── repairs.php          # 维修记录API
│   └── statistics.php       # 统计信息API
├── js/
│   └── main.js             # 主要JavaScript功能
├── README.md                # 项目说明
└── INSTALL.md               # 安装指南
```

## 自定义开发

### 添加新功能
1. 在相应目录创建PHP文件
2. 在数据库中创建必要的表
3. 更新前端界面
4. 添加相应的API接口

### 修改样式
- 编辑CSS样式文件
- 使用Bootstrap类名进行快速样式调整
- 自定义状态标签颜色

### 扩展统计功能
- 在 `api/statistics.php` 中添加新的统计查询
- 在前端JavaScript中添加相应的图表显示

## 常见问题

### Q: 无法连接数据库？
A: 检查数据库配置信息，确保MySQL服务正在运行

### Q: 导出功能不工作？
A: 确保PHP有写入权限，检查浏览器是否阻止弹窗

### Q: 图表不显示？
A: 检查Chart.js是否正确加载，查看浏览器控制台错误信息

### Q: 安装过程中出错？
A: 检查PHP错误日志，确保所有环境要求都满足

## 技术支持

如有问题或建议，请通过以下方式联系：
- 提交Issue到项目仓库
- 发送邮件到管理员邮箱

## 许可证

本项目采用MIT许可证，详见LICENSE文件。

---

**注意**：首次使用请务必修改默认管理员密码！
"# repair_management" 
